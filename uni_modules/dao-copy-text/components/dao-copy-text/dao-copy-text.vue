<template>
  <view class="flex align-center" @click="copyData">
    <view class="">
      <slot name="content"></slot>
    </view>
    <slot name="image">
      <view class="copy-icon flex align-center">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_1037_4667)">
            <path
              d="M2.96826 3.18071H3.34019V3.00569C3.34019 1.34836 4.67233 0 6.30845 0H13.0317C14.6679 0 16 1.34836 16 3.00569V9.8136C16 11.4709 14.6679 12.8193 13.0317 12.8193H12.6598V12.9943C12.6598 14.6516 11.3277 16 9.69155 16H2.96826C1.33214 16 9.53674e-07 14.6516 9.53674e-07 12.9943V6.18641C9.53674e-07 4.52908 1.33214 3.18071 2.96826 3.18071ZM12.6598 6.18641V11.3941H13.0317C13.8918 11.3941 14.5928 10.6851 14.5928 9.8136V3.00569C14.5928 2.13417 13.8918 1.42337 13.0317 1.42337H6.30845C5.44658 1.42337 4.74743 2.13238 4.74743 3.00569V3.18071H9.69155C11.3277 3.18071 12.6598 4.52908 12.6598 6.18641ZM1.40724 12.9943C1.40724 13.8658 2.10818 14.5748 2.96826 14.5748H9.69155C10.5534 14.5748 11.2526 13.8658 11.2526 12.9943V6.18641C11.2526 5.31488 10.5516 4.60409 9.69155 4.60409H2.96826C2.10639 4.60409 1.40724 5.31309 1.40724 6.18641V12.9943ZM3.51721 8.87778H5.62718V6.74182C5.62718 6.35071 5.94368 6.02924 6.32991 6.02924C6.71614 6.02924 7.03263 6.34892 7.03263 6.74182V8.87778H9.1426C9.52883 8.87778 9.84533 9.19924 9.84533 9.59036C9.84533 9.98147 9.52883 10.3029 9.1426 10.3029H7.03263V12.4389C7.03263 12.83 6.71614 13.1515 6.32991 13.1515C5.94368 13.1515 5.62718 12.8318 5.62718 12.4389V10.3012H3.51721C3.13098 10.3012 2.81448 9.98147 2.81448 9.58857C2.8127 9.19746 3.12919 8.87778 3.51721 8.87778Z"
              :fill="props.color"
            />
          </g>
          <defs>
            <clipPath id="clip0_1037_4667">
              <rect width="16" height="16" fill="white" transform="matrix(-1 0 0 1 16 0)" />
            </clipPath>
          </defs>
        </svg>
      </view>
    </slot>
  </view>
</template>

<script setup>
const props = defineProps({
  content: {
    type: String,
    default: '',
  },
  color: {
    type: String,
    default: '#888',
  },
})

const copyData = () => {
  uni.setClipboardData({
    data: props.content,
    success: () => {
      uni.showToast({
        title: '复制成功',
        icon: 'none',
      })
    },
  })
}
</script>

<style lang="scss" scoped>
.copy-icon {
  margin-left: 20rpx;
}
</style>
